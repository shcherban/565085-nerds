var link=document.querySelector(".contacts-card-write-us"),popup=document.querySelector(".modal-contact"),close=popup.querySelector(".modal-close"),form=popup.querySelector("form"),name1=popup.querySelector("[name=contact-form-name]"),email=form.querySelector("[name=contact-form-email]"),message=form.querySelector("[name=contact-form-message]"),isStorageSupport=!0,storage="";try{storageName=localStorage.getItem("name1"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),name1.focus(),storageName&&(name1.value=storageName,email.focus()),storageEmail&&(email.value=storageEmail,message.focus())}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error"),name1.classList.remove("invalid"),email.classList.remove("invalid"),message.classList.remove("invalid")}),form.addEventListener("submit",function(e){name1.value&&email.value&&message.value&&!message.value?isStorageSupport&&(localStorage.setItem("name1",name1.value),localStorage.setItem("email",email.value)):(e.preventDefault(),name1.value||name1.classList.add("invalid"),email.value||email.classList.add("invalid"),message.value||message.classList.add("invalid"),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error"),name1.classList.remove("invalid"),email.classList.remove("invalid"),message.classList.remove("invalid")))}),name1.addEventListener("focus",function(e){name1.classList.remove("invalid")}),email.addEventListener("focus",function(e){email.classList.remove("invalid")}),message.addEventListener("focus",function(e){message.classList.remove("invalid")});